(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{on1W:function(e,n,t){"use strict";t.r(n),t.d(n,"TenantsModule",function(){return De});var c=t("iInd"),i=t("7OZ3"),o=t("U6Sh"),a=t("Gjc3"),r=t("SZAU"),b=t("j89o"),s=t("mrSG"),l=t("uZok"),d=t("C9d3"),u=t("yxSc"),f=t("gyvI"),m=t("8Y7J");let g=(()=>{class e extends f.e{constructor(e,n){super(e,n),this.Service=new l.i,this.Gen=new u.a,this.Listner=new d.a(!0),this.current=null,this.Listner.SendMessage.subscribe(e=>{this.modal&&this.modal.AddMessage(e)})}ngOnInit(){super.ngOnInit(),this.Gen.GetActivePreview().then(e=>{this.current=e.tenantCode,this.url=e.url})}GetNotifier(){return Object(s.a)(this,void 0,void 0,function*(){return this.modal=yield this.GetComponent({Identifier:"ServerTrace"}),this.modal})}StartPreview(e){this.GetNotifier().then(n=>{this.modal=n,n.Clear(),n.Show=!0,this.Listner.Start().then(n=>{this.Gen.connectionId=n,this.Gen.StartTenantPreview({tenantCode:e.code}).then(n=>{this.url="",n.data.Url&&(this.url=n.data.Url,this.Open()),this.current=e.code}).catch(e=>{i.e.HandleError(e,!0)})})})}StopPreview(){this.GetNotifier().then(e=>{e.Show=!0,e.Clear(),this.Listner.Start().then(e=>{this.Gen.connectionId=e,this.Gen.StopPreview().then(e=>this.current=null)})})}Open(){this.url&&window.open(this.url)}isActive_change(e){this.Service.Update("Put",e)}}return e.\u0275fac=function(n){return new(n||e)(m.Mb(c.a),m.Mb(m.s))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],features:[m.xb],decls:0,vars:0,template:function(e,n){},encapsulation:2}),e})();var p=t("SVse"),S=t("L7BY"),h=t("Rux6"),R=t("s7LF"),v=t("EuMQ"),_=t("TSSN");const A=["Form"];function C(e,n){if(1&e&&(m.Sb(0,"span"),m.Gc(1),m.Rb()),2&e){const e=m.dc(2);m.Ab(1),m.Ic(" - ",e.HeaderExtra,"")}}const I=function(e){return{p0:e}};function G(e,n){1&e&&(m.Sb(0,"a",26),m.Nb(1,"i",27),m.Gc(2),m.ec(3,"translate"),m.ec(4,"translate"),m.Rb()),2&e&&(m.jc("routerLink","/generations/tenants/tenant-create"),m.Ab(2),m.Ic(" ",m.gc(3,2,"Words.AddEntity",m.nc(7,I,m.fc(4,5,"Words.Tenant")))," "))}function y(e,n){1&e&&(m.Sb(0,"div",3),m.Sb(1,"ol",28),m.Sb(2,"li"),m.Sb(3,"a",29),m.Gc(4),m.ec(5,"translate"),m.Rb(),m.Rb(),m.Sb(6,"li"),m.Gc(7),m.ec(8,"translate"),m.Rb(),m.Rb(),m.Rb()),2&e&&(m.Ab(4),m.Hc(m.fc(5,2,"Words.Main")),m.Ab(3),m.Ic(" ",m.fc(8,4,"Pages.Tenants__TenantList")," "))}function j(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",16),m.Sb(1,"div",3),m.Sb(2,"div",17),m.Sb(3,"h2"),m.Gc(4),m.ec(5,"translate"),m.Ec(6,C,2,1,"span",18),m.Rb(),m.Rb(),m.Sb(7,"div",19),m.Sb(8,"div",3),m.Sb(9,"div",20),m.Sb(10,"div",21),m.Ec(11,G,5,9,"a",22),m.Sb(12,"button",23),m.Zb("click",function(){return m.vc(e),m.dc().Refresh()}),m.Nb(13,"i",24),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Ec(14,y,9,6,"div",25),m.Rb()}if(2&e){const e=m.dc();m.Ab(4),m.Hc(m.fc(5,4,"Pages.Tenants__TenantList")),m.Ab(2),m.jc("ngIf",e.HeaderExtra),m.Ab(5),m.jc("ngIf",e.Permission.insert),m.Ab(3),m.jc("ngIf",!e.IsEmbedded)}}function T(e,n){if(1&e&&(m.Sb(0,"span"),m.Gc(1),m.Rb()),2&e){const e=m.dc(2);m.Ab(1),m.Ic(" - ",e.HeaderExtra,"")}}function F(e,n){1&e&&(m.Sb(0,"a",34),m.Nb(1,"i",27),m.Gc(2),m.ec(3,"translate"),m.ec(4,"translate"),m.Rb()),2&e&&(m.jc("routerLink","/generations/tenants/tenant-create"),m.Ab(2),m.Ic(" ",m.gc(3,2,"Words.AddEntity",m.nc(7,I,m.fc(4,5,"Words.Tenant")))," "))}function k(e,n){if(1&e&&(m.Sb(0,"div",30),m.Sb(1,"div",31),m.Sb(2,"div",3),m.Sb(3,"div",6),m.Gc(4),m.ec(5,"translate"),m.Ec(6,T,2,1,"span",18),m.Rb(),m.Sb(7,"div",32),m.Ec(8,F,5,9,"a",33),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&e){const e=m.dc();m.Ab(4),m.Ic(" ",m.fc(5,3,"Pages.Tenants__TenantList"),""),m.Ab(2),m.jc("ngIf",e.HeaderExtra),m.Ab(2),m.jc("ngIf",e.Permission.insert)}}function E(e,n){if(1&e&&(m.Sb(0,"a",45),m.Nb(1,"i",46),m.Rb()),2&e){const e=m.dc().$implicit;m.jc("routerLink","/generations/tenants/tenant-details/"+e.id)}}function M(e,n){if(1&e){const e=m.Tb();m.Sb(0,"a",47),m.Zb("click",function(){m.vc(e);const n=m.dc().$implicit;return m.dc().Delete(n.id)}),m.Nb(1,"i",48),m.Rb()}}function w(e,n){if(1&e){const e=m.Tb();m.Sb(0,"button",49),m.Zb("click",function(){m.vc(e);const n=m.dc().$implicit;return m.dc().StartPreview(n)}),m.Nb(1,"i",50),m.Gc(2),m.ec(3,"translate"),m.Rb()}2&e&&(m.Ab(2),m.Ic(" ",m.fc(3,1,"Words.Preview")," "))}function L(e,n){if(1&e){const e=m.Tb();m.Sb(0,"button",51),m.Zb("click",function(){return m.vc(e),m.dc(2).Open()}),m.Nb(1,"i",50),m.Gc(2),m.ec(3,"translate"),m.Rb()}2&e&&(m.Ab(2),m.Ic(" ",m.fc(3,1,"Words.View")," "))}function N(e,n){if(1&e){const e=m.Tb();m.Sb(0,"button",52),m.Zb("click",function(){return m.vc(e),m.dc(2).StopPreview()}),m.Nb(1,"i",53),m.Gc(2),m.ec(3,"translate"),m.Rb()}2&e&&(m.Ab(2),m.Ic(" ",m.fc(3,1,"Words.Stop")," "))}function x(e,n){if(1&e){const e=m.Tb();m.Sb(0,"tr"),m.Sb(1,"td"),m.Gc(2),m.Nb(3,"div",35),m.Rb(),m.Sb(4,"td"),m.Gc(5),m.Nb(6,"div",35),m.Rb(),m.Sb(7,"td"),m.Gc(8),m.Nb(9,"div",35),m.Rb(),m.Sb(10,"td"),m.Sb(11,"label",36),m.Sb(12,"input",37),m.Zb("ngModelChange",function(e){return n.$implicit.isActive=e})("change",function(){m.vc(e);const t=n.$implicit;return m.dc().isActive_change(t)}),m.Rb(),m.Nb(13,"span"),m.Rb(),m.Nb(14,"div",35),m.Rb(),m.Sb(15,"td"),m.Sb(16,"div",38),m.Ec(17,E,2,1,"a",39),m.Ec(18,M,2,0,"a",40),m.Rb(),m.Rb(),m.Sb(19,"td"),m.Sb(20,"div",41),m.Ec(21,w,4,3,"button",42),m.Ec(22,L,4,3,"button",43),m.Ec(23,N,4,3,"button",44),m.Rb(),m.Rb(),m.Sb(24,"td"),m.Gc(25),m.ec(26,"date"),m.Nb(27,"div",35),m.Rb(),m.Rb()}if(2&e){const e=n.$implicit,t=n.index,c=m.dc();m.Ab(2),m.Ic(" ",e.code," "),m.Ab(3),m.Ic(" ",e.name," "),m.Ab(3),m.Ic(" ",e.version," "),m.Ab(4),m.jc("id","active"+t)("name","active"+t)("ngModel",e.isActive)("li-watch",e.Tag),m.Ab(5),m.jc("ngIf",c.Permission.details),m.Ab(1),m.jc("ngIf",c.Permission.delete),m.Ab(3),m.jc("ngIf",null==c.current),m.Ab(1),m.jc("ngIf",c.current==e.code),m.Ab(1),m.jc("ngIf",c.current==e.code),m.Ab(2),m.Ic(" ",m.gc(26,13,e.createdOn,"dd/MM/yyyy hh:mm a")," ")}}let H=(()=>{class e extends g{constructor(){super(...arguments),this.ViewParams={AddUrl:"/generations/tenants/tenant-create",EditUrl:null,DetailsUrl:"/generations/tenants/tenant-details",ListUrl:null,Fields:[],Other:{ServerTrace:"Shared/ServerTracerModal"}},this.LookupOptions=null}get CollectionId(){return null}}return e.\u0275fac=function(n){return P(n||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-tenant-list"]],viewQuery:function(e,n){if(1&e&&m.Kc(A,!0),2&e){let e;m.sc(e=m.ac())&&(n.Form=e.first)}},features:[m.xb],decls:45,vars:37,consts:[["class","page-header container-fluid",4,"ngIfHideHeader","ngIf"],["class","page-header section-header",4,"ngIf"],[3,"ngClass"],[1,"row"],[1,"col-md-4",2,"padding","10px 24px","color","#9B9B9B"],[2,"color","#9B9B9B"],[1,"col-md-8"],[3,"termChange"],[3,"showing","total-count","max-pages","currentPage","currentPageChange","pageChange"],[1,"table-responsive"],[1,"table","table-striped"],[1,"cursorPointer",2,"width","150px",3,"ngClass"],[1,"fa","fa-sort",3,"click"],[1,"cursorPointer",3,"ngClass"],[2,"width","150px"],[4,"ngFor","ngForOf"],[1,"page-header","container-fluid"],[1,"col-sm-5","col-xs-12"],[4,"ngIf"],[1,"col-sm-7","col-xs-12"],[1,"col-md-12","col-xs-12","padTop","padBottom"],[1,"pull-last","btn-group"],["class","btn btn-success",3,"routerLink",4,"ngIf"],[1,"btn","btn-info","margin-sides",3,"click"],[1,"fa","fa-redo"],["class","row",4,"ngIf"],[1,"btn","btn-success",3,"routerLink"],[1,"fa","fa-plus"],[1,"breadcrumb"],["routerLink","/"],[1,"page-header","section-header"],[1,"container-fluid"],[1,"col-md-4"],["class","btn btn-success buttonGra-sm",3,"routerLink",4,"ngIf"],[1,"btn","btn-success","buttonGra-sm",3,"routerLink"],[2,"position","relative"],[1,"chiller_cb"],["type","checkbox",3,"id","name","ngModel","li-watch","ngModelChange","change"],[1,"btn-group","btnResponsive"],["class","btn btn-primary btn-sm",3,"routerLink",4,"ngIf"],["class","btn btn-danger btn-sm",3,"click",4,"ngIf"],[1,"btn-group"],["class","btn btn-info",3,"click",4,"ngIf"],["class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-primary","btn-sm",3,"routerLink"],[1,"fa","fa-copy"],[1,"btn","btn-danger","btn-sm",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"btn","btn-info",3,"click"],[1,"fa","fa-image"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-square"]],template:function(e,n){1&e&&(m.Ec(0,j,15,6,"div",0),m.Ec(1,k,9,5,"div",1),m.Sb(2,"div",2),m.Sb(3,"div",2),m.Sb(4,"div",3),m.Sb(5,"div",4),m.Sb(6,"span"),m.Sb(7,"b"),m.Gc(8),m.ec(9,"translate"),m.Rb(),m.Gc(10," : "),m.Sb(11,"span",5),m.Gc(12),m.Rb(),m.Rb(),m.Rb(),m.Sb(13,"div",6),m.Sb(14,"search-group",7),m.Zb("termChange",function(e){return n.HeaderSearch(e)}),m.Rb(),m.Rb(),m.Rb(),m.Sb(15,"paginate",8),m.Zb("currentPageChange",function(e){return n.pageIndex=e})("pageChange",function(e){return n.PageSelected(e)}),m.Rb(),m.Sb(16,"div",9),m.Sb(17,"table",10),m.Sb(18,"thead"),m.Sb(19,"tr"),m.Sb(20,"th",11),m.Gc(21),m.ec(22,"translate"),m.Sb(23,"i",12),m.Zb("click",function(){return n.SortBy("Code")}),m.Rb(),m.Rb(),m.Sb(24,"th",13),m.Gc(25),m.ec(26,"translate"),m.Sb(27,"i",12),m.Zb("click",function(){return n.SortBy("Name")}),m.Rb(),m.Rb(),m.Sb(28,"th",13),m.Gc(29),m.ec(30,"translate"),m.Sb(31,"i",12),m.Zb("click",function(){return n.SortBy("Version")}),m.Rb(),m.Rb(),m.Sb(32,"th",13),m.Gc(33),m.ec(34,"translate"),m.Sb(35,"i",12),m.Zb("click",function(){return n.SortBy("IsActive")}),m.Rb(),m.Rb(),m.Nb(36,"th",14),m.Nb(37,"th"),m.Sb(38,"th",13),m.Gc(39),m.ec(40,"translate"),m.Sb(41,"i",12),m.Zb("click",function(){return n.SortBy("CreatedOn")}),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(42,"tbody"),m.Ec(43,x,28,16,"tr",15),m.Rb(),m.Rb(),m.Rb(),m.Sb(44,"paginate",8),m.Zb("currentPageChange",function(e){return n.pageIndex=e})("pageChange",function(e){return n.PageSelected(e)}),m.Rb(),m.Rb(),m.Rb()),2&e&&(m.jc("ngIf",!n.IsEmbedded),m.Ab(1),m.jc("ngIf",n.IsEmbedded&&!n.HideHeader),m.Ab(1),m.jc("ngClass",n.IsEmbedded?"panel panel-default embedded body":"animated fadeInRight"),m.Ab(1),m.jc("ngClass",n.IsEmbedded?"panel-body":"container-fluid content-block"),m.Ab(5),m.Hc(m.fc(9,25,"Words.Count")),m.Ab(4),m.Hc(n.totalCount),m.Ab(3),m.jc("showing",n.options.Showing)("total-count",n.totalCount)("max-pages",10)("currentPage",n.pageIndex),m.Ab(5),m.jc("ngClass",n.GetHeaderClass("Code")),m.Ab(1),m.Ic(" ",m.fc(22,27,"Columns.Tenant__Code")," "),m.Ab(3),m.jc("ngClass",n.GetHeaderClass("Name")),m.Ab(1),m.Ic(" ",m.fc(26,29,"Columns.Tenant__Name")," "),m.Ab(3),m.jc("ngClass",n.GetHeaderClass("Version")),m.Ab(1),m.Ic(" ",m.fc(30,31,"Columns.Tenant__Version")," "),m.Ab(3),m.jc("ngClass",n.GetHeaderClass("IsActive")),m.Ab(1),m.Ic(" ",m.fc(34,33,"Columns.Tenant__IsActive")," "),m.Ab(5),m.jc("ngClass",n.GetHeaderClass("CreatedOn")),m.Ab(1),m.Ic(" ",m.fc(40,35,"Columns.Tenant__CreatedOn")," "),m.Ab(4),m.jc("ngForOf",n.list),m.Ab(1),m.jc("showing",n.options.Showing)("total-count",n.totalCount)("max-pages",10)("currentPage",n.pageIndex))},directives:[p.k,p.i,S.a,h.a,p.j,c.d,R.a,R.i,R.l,v.a],pipes:[_.c,p.d],encapsulation:2}),e})();const P=m.Ub(H);var O=t("FfeS"),Z=t("LE92"),W=t("IdAA"),q=t("SqGj");const V=["OutputListener"];let D=(()=>{class e extends f.c{constructor(e,n){super(e,n),this.Service=new l.i,this.Sql=new Z.a,this.Gen=new u.a,this.Pag=new O.a,this.Listener=new d.a(!0),this.LoadLookups=!0,this.environments=[],this.databases=[],this.fService=new q.c(""),this.upload=e=>this.fService.PostFiles("Upload",e),this.Listener.SendMessage.subscribe(e=>{this.OutputListener&&this.OutputListener.AddMessage(e)}),this.fService=new q.c(W.a.CurrentApp.configUrl)}LoadLookupsAsync(e){return Object(s.a)(this,void 0,void 0,function*(){return this.environments=yield this.Sql.GetEnvironments(),{}})}DefaultModel(){return{entity:{mainComponentBase:"AppComponent"}}}OnReady(){this.OutputListener&&(this.OutputListener.HideHeader=!0)}env_change(){if(this.databases=[],this.model.environment){var e=this.environments.find(e=>e.name==this.model.environment);if(e)for(var n of e.databases)this.databases.push({name:n})}}SelectTemplate(){this.GetComponent({Identifier:"SelectTemplateModel"}).then(e=>{e.StartAsync().then(n=>{e.Show=!0,e.OnOk=n=>(this.model.entity.mainComponentBase=e.SelectedItems[0].viewPath,Promise.resolve(!0))})})}SyncTenant(){this.OutputListener&&this.OutputListener.Clear(),this.Listener.Start().then(e=>{this.Gen.connectionId=e,this.Gen.SyncTenants(this.model.entity.parentId?this.model.entity.parentId:1,this.model.entity.id)})}UpdateDatabase(){this.OutputListener&&this.OutputListener.Clear(),this.Listener.Start().then(e=>{this.Sql.connectionId=e,this.Sql.UpdateTenantDatabse({dbName:this.model.dbName,environment:this.model.environment,id:this.model.entity.id})})}Render(){this.OutputListener&&this.OutputListener.Clear(),this.Listener.Start().then(e=>{this.Gen.connectionId=e,this.Gen.RenderTenant({mod:this.model.entity.code})})}Publish(){this.OutputListener&&this.OutputListener.Clear(),this.Listener.Start().then(e=>{this.Gen.connectionId=e,this.Gen.PublishTenant({tenantCode:this.model.entity.code,environment:this.model.environment,force:this.model.force}).then(e=>{"already_rendered"!=e.message&&i.d.Main.ShowPromptTranslate(e.message)}).catch(e=>{i.e.HandleError(e,!0)})})}Submit(){this.IsNew&&this.model.dbName?(this.OutputListener&&this.OutputListener.Clear(),this.Listener.Start().then(e=>{this.Sql.connectionId=e,this.Sql.CreateTenantDatabase({tenantCode:this.model.entity.code,environment:this.model.environment,dbName:this.model.dbName,id:0}).then(e=>{this.model.entity.connectionString||(this.model.entity.connectionString=e.data.ConnectionString),this.model.entity.id=e.data.TenantId,this.NotifyTranslate("database_created"),this.Service.Post("Post",this.model.entity).then(e=>{super.OnSubmitSuccess(e)})}).catch(e=>i.e.HandleError(e,!0))})):super.Submit()}ngOnDestroy(){super.ngOnDestroy(),this.Listener.Stop()}}return e.\u0275fac=function(n){return new(n||e)(m.Mb(c.a),m.Mb(m.s))},e.\u0275cmp=m.Gb({type:e,selectors:[["ng-component"]],viewQuery:function(e,n){if(1&e&&m.Kc(V,!0),2&e){let e;m.sc(e=m.ac())&&(n.OutputListener=e.first)}},features:[m.xb],decls:0,vars:0,template:function(e,n){},encapsulation:2}),e})();var U=t("XGJ5");let B=(()=>{class e{constructor(e){this.model=e}Change(e){if(this.service&&this.column)if(this.model.value&&""!=this.model.value){var n=!1;this.service&&(n=this.service.Silent,this.service.Silent=!0),this.model.control.setErrors({unique:!0}),this.service.IsUnique(this.column,this.id,this.model.value).then(e=>{this.service&&(this.service.Silent=n),this.model&&(e?(this.model.control.setErrors({unique:null}),this.model.control.updateValueAndValidity()):this.model.control.setErrors({unique:!0}))})}else this.model.control.setErrors({unique:null}),this.model.control.updateValueAndValidity()}}return e.\u0275fac=function(n){return new(n||e)(m.Mb(R.l))},e.\u0275dir=m.Hb({type:e,selectors:[["","is-unique","","ngModel",""]],hostBindings:function(e,n){1&e&&m.Zb("blur",function(e){return n.Change(e)})},inputs:{service:["data-service","service"],column:["column-id","column"],id:["item-id","id"]},exportAs:["is-unique"]}),e})();var $=t("ZCxi"),J=t("2b99");const K=["Form"];function Q(e,n){if(1&e&&(m.Sb(0,"span"),m.Gc(1),m.Rb()),2&e){const e=m.dc(2);m.Ab(1),m.Ic(" - ",e.HeaderExtra,"")}}function z(e,n){1&e&&(m.Sb(0,"div",5),m.Sb(1,"ol",55),m.Sb(2,"li"),m.Sb(3,"a",56),m.Gc(4),m.ec(5,"translate"),m.Rb(),m.Rb(),m.Sb(6,"li"),m.Sb(7,"a",57),m.Gc(8),m.ec(9,"translate"),m.Rb(),m.Rb(),m.Sb(10,"li"),m.Gc(11),m.ec(12,"translate"),m.Rb(),m.Rb(),m.Rb()),2&e&&(m.Ab(4),m.Hc(m.fc(5,3,"Words.Main")),m.Ab(4),m.Hc(m.fc(9,5,"Pages.Tenants__TenantList")),m.Ab(3),m.Ic(" ",m.fc(12,7,"Pages.Tenants__TenantCreate")," "))}function Y(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",48),m.Sb(1,"div",5),m.Sb(2,"div",49),m.Sb(3,"h2"),m.Gc(4),m.ec(5,"translate"),m.Ec(6,Q,2,1,"span",10),m.Rb(),m.Rb(),m.Sb(7,"div",50),m.Sb(8,"div",5),m.Sb(9,"div",51),m.Sb(10,"div",52),m.Sb(11,"button",53),m.Zb("click",function(){return m.vc(e),m.dc().Refresh()}),m.Nb(12,"i",54),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Ec(13,z,13,9,"div",3),m.Rb()}if(2&e){const e=m.dc();m.Ab(4),m.Hc(m.fc(5,3,"Pages.Tenants__TenantCreate")),m.Ab(2),m.jc("ngIf",e.HeaderExtra),m.Ab(7),m.jc("ngIf",!e.IsEmbedded)}}function X(e,n){if(1&e&&(m.Sb(0,"span"),m.Gc(1),m.Rb()),2&e){const e=m.dc(2);m.Ab(1),m.Ic(" - ",e.HeaderExtra,"")}}function ee(e,n){if(1&e&&(m.Sb(0,"div",58),m.Sb(1,"div",59),m.Sb(2,"div",5),m.Sb(3,"div",60),m.Gc(4),m.ec(5,"translate"),m.Ec(6,X,2,1,"span",10),m.Rb(),m.Nb(7,"div",61),m.Rb(),m.Rb(),m.Rb()),2&e){const e=m.dc();m.Ab(4),m.Ic(" ",m.fc(5,2,"Pages.Tenants__TenantCreate"),""),m.Ab(2),m.jc("ngIf",e.HeaderExtra)}}function ne(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",5),m.Sb(1,"div",62),m.Sb(2,"div",63),m.Sb(3,"button",64),m.Zb("click",function(){return m.vc(e),m.dc().CurrentLang="ar"}),m.Gc(4),m.ec(5,"translate"),m.Rb(),m.Sb(6,"button",64),m.Zb("click",function(){return m.vc(e),m.dc().CurrentLang="en"}),m.Gc(7),m.ec(8,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb()}if(2&e){const e=m.dc();m.Ab(3),m.jc("ngClass","ar"==e.CurrentLang?"btn-primary":"btn-default"),m.Ab(1),m.Ic(" ",m.fc(5,4,"Words.ar")," "),m.Ab(2),m.jc("ngClass","en"==e.CurrentLang?"btn-primary":"btn-default"),m.Ab(1),m.Ic(" ",m.fc(8,6,"Words.en")," ")}}function te(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(9);m.Ab(1),m.Hc(e.Value)}}const ce=function(e){return{p0:e}};function ie(e,n){1&e&&(m.Sb(0,"small",66),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.field_required",m.nc(6,ce,m.fc(3,4,"Columns.Tenant__Code")))))}function oe(e,n){1&e&&(m.Sb(0,"small",66),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.field_exists",m.nc(6,ce,m.fc(3,4,"Columns.Tenant__Code")))))}function ae(e,n){if(1&e&&(m.Sb(0,"span"),m.Ec(1,ie,4,8,"small",65),m.Ec(2,oe,4,8,"small",65),m.Rb()),2&e){m.dc();const e=m.tc(6);m.Ab(1),m.jc("ngIf",e.controls.Form__entity_code.errors.required),m.Ab(1),m.jc("ngIf",e.controls.Form__entity_code.errors.unique)}}function re(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(21);m.Ab(1),m.Hc(e.Value)}}function be(e,n){1&e&&(m.Sb(0,"small",66),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.field_required",m.nc(6,ce,m.fc(3,4,"Columns.Tenant__Name")))))}function se(e,n){if(1&e&&(m.Sb(0,"span"),m.Ec(1,be,4,8,"small",65),m.Rb()),2&e){m.dc();const e=m.tc(6);m.Ab(1),m.jc("ngIf",e.controls.Form__entity_name.errors.required)}}function le(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(34);m.Ab(1),m.Hc(e.Value)}}function de(e,n){1&e&&(m.Sb(0,"small",66),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.invalid_field",m.nc(6,ce,m.fc(3,4,"Columns.Tenant__DbName")))))}function ue(e,n){if(1&e&&(m.Sb(0,"span"),m.Ec(1,de,4,8,"small",65),m.Rb()),2&e){m.dc();const e=m.tc(6);m.Ab(1),m.jc("ngIf",e.controls.Form__dbName.errors.pattern)}}function fe(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(44);m.Ab(1),m.Hc(e.Value)}}function me(e,n){if(1&e&&(m.Sb(0,"a",67),m.Gc(1),m.Rb()),2&e){const e=m.dc();m.jc("routerLink","/"+e.model.entity.logoFile.url),m.Ab(1),m.Ic(" ",e.model.entity.logoFile.name," ")}}function ge(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",25),m.Sb(1,"button",68),m.Zb("click",function(){return m.vc(e),m.dc().SelectTemplate()}),m.Nb(2,"i",69),m.Rb(),m.Rb()}}function pe(e,n){if(1&e&&(m.Sb(0,"option",39),m.Gc(1),m.Rb()),2&e){const e=n.$implicit;m.jc("ngValue",e.name),m.Ab(1),m.Hc(e.name)}}function Se(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(83);m.Ab(1),m.Hc(e.Value)}}let he=(()=>{class e extends D{constructor(){super(...arguments),this.ViewParams={AddUrl:null,EditUrl:null,DetailsUrl:null,ListUrl:"/generations/tenants/tenant-list",Fields:[],Other:{OutputListener:"app-generations/generation-inof-list",SelectTemplateModel:"Generations/PageCategorySelect"}},this.LookupOptions=null}get CollectionId(){return null}}return e.\u0275fac=function(n){return Re(n||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-tenant-create"]],viewQuery:function(e,n){if(1&e&&m.Kc(K,!0),2&e){let e;m.sc(e=m.ac())&&(n.Form=e.first)}},features:[m.xb],decls:102,vars:90,consts:[["class","page-header container-fluid",4,"ngIfHideHeader","ngIf"],["class","page-header section-header",4,"ngIf"],[3,"ngClass"],["class","row",4,"ngIf"],["Form","ngForm"],[1,"row"],["id","FG_entity_code","bs-group","",1,"form-group","col-md-6"],["FG_entity_code","bsFormGroup"],[2,"color","red"],["type","text","name","Form__entity_code","required","","is-unique","","column-id","Code",1,"form-control",3,"placeholder","ngModel","title","li-watch","data-service","item-id","ngModelChange"],[4,"ngIf"],["id","FG_entity_name","bs-group","",1,"form-group","col-md-6"],["FG_entity_name","bsFormGroup"],["type","text","name","Form__entity_name","required","",1,"form-control",3,"placeholder","ngModel","title","li-watch","ngModelChange"],["id","FG_dbName","bs-group","",1,"form-group","col-md-6"],["FG_dbName","bsFormGroup"],["type","text","name","Form__dbName",1,"form-control",3,"placeholder","ngModel","title","li-watch","pattern","ngModelChange"],["id","FG_entity_connectionString","bs-group","",1,"form-group","col-md-6"],["FG_entity_connectionString","bsFormGroup"],["type","text","name","Form__entity_connectionString",1,"form-control",3,"placeholder","ngModel","title","li-watch","ngModelChange"],["id","FG_entity_logoFile","bs-group","",1,"form-group","col-md-6"],["FG_entity_logoFile","bsFormGroup"],[1,"input-group"],[1,"form-control"],["class","file-link","target","_blank",3,"routerLink",4,"ngIf"],[1,"input-group-btn"],[1,"btn","btn-primary"],["name","f_logo","type","file",2,"display","none",3,"ngModel","file-uploader","fileData","ngModelChange","fileDataChange"],[1,"fa","fa-upload"],[1,"col-md-6"],["id","MainComponentBase","bs-group","",1,"form-group"],["MainComponentBase","bsFormGroup"],[1,"control-label"],[1,"input-group","modal-selector"],["class","input-group-btn",4,"ngIf"],[1,"col-md-12","section-header"],["id","FG_environment","bs-group","",1,"form-group","col-md-2"],["FG_environment","bsFormGroup"],["name","Form__environment",1,"form-control",3,"li-watch","ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"row",2,"height","400px"],[3,"IsEmbedded"],["OutputListener",""],[1,"row","submit-buttons"],[1,"col-md-12"],[1,"pull-last"],[1,"btn","btn-primary",3,"disabled","click"],[1,"page-header","container-fluid"],[1,"col-sm-5","col-xs-12"],[1,"col-sm-7","col-xs-12"],[1,"col-md-12","col-xs-12","padTop","padBottom"],[1,"pull-last","btn-group"],[1,"btn","btn-info","margin-sides",3,"click"],[1,"fa","fa-redo"],[1,"breadcrumb"],["routerLink","/"],["routerLink","/generations/tenants/tenant-list"],[1,"page-header","section-header"],[1,"container-fluid"],[1,"col-md-8"],[1,"col-md-4"],[1,"col-xs-12","col-md-6","col-xs-offset-0","col-md-offset-6","padBottom"],[1,"btn-group","btn-group-sm","pull-last"],[1,"btn","btn-sm",3,"ngClass","click"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"],["target","_blank",1,"file-link",3,"routerLink"],[1,"btn",3,"click"],[1,"fa","fa-window-restore"]],template:function(e,n){if(1&e&&(m.Ec(0,Y,14,5,"div",0),m.Ec(1,ee,8,4,"div",1),m.Sb(2,"div",2),m.Sb(3,"div",2),m.Ec(4,ne,9,8,"div",3),m.Sb(5,"form",null,4),m.Sb(7,"div",5),m.Sb(8,"div",6,7),m.Sb(10,"label"),m.Gc(11),m.ec(12,"translate"),m.Sb(13,"span",8),m.Gc(14,"*"),m.Rb(),m.Rb(),m.Sb(15,"input",9),m.Zb("ngModelChange",function(e){return n.model.entity.code=e}),m.ec(16,"translate"),m.ec(17,"translate"),m.Rb(),m.Ec(18,te,2,1,"p",10),m.Ec(19,ae,3,2,"span",10),m.Rb(),m.Sb(20,"div",11,12),m.Sb(22,"label"),m.Gc(23),m.ec(24,"translate"),m.Sb(25,"span",8),m.Gc(26,"*"),m.Rb(),m.Rb(),m.Sb(27,"input",13),m.Zb("ngModelChange",function(e){return n.model.entity.name=e}),m.ec(28,"translate"),m.ec(29,"translate"),m.Rb(),m.Ec(30,re,2,1,"p",10),m.Ec(31,se,2,1,"span",10),m.Rb(),m.Rb(),m.Sb(32,"div",5),m.Sb(33,"div",14,15),m.Sb(35,"label"),m.Gc(36),m.ec(37,"translate"),m.Rb(),m.Sb(38,"input",16),m.Zb("ngModelChange",function(e){return n.model.dbName=e}),m.ec(39,"translate"),m.ec(40,"translate"),m.Rb(),m.Ec(41,le,2,1,"p",10),m.Ec(42,ue,2,1,"span",10),m.Rb(),m.Sb(43,"div",17,18),m.Sb(45,"label"),m.Gc(46),m.ec(47,"translate"),m.Rb(),m.Sb(48,"input",19),m.Zb("ngModelChange",function(e){return n.model.entity.connectionString=e}),m.ec(49,"translate"),m.ec(50,"translate"),m.Rb(),m.Ec(51,fe,2,1,"p",10),m.Rb(),m.Rb(),m.Sb(52,"div",5),m.Sb(53,"div",20,21),m.Sb(55,"label"),m.Gc(56),m.ec(57,"translate"),m.Rb(),m.Sb(58,"div",22),m.Sb(59,"label",23),m.Ec(60,me,2,2,"a",24),m.Rb(),m.Sb(61,"div",25),m.Sb(62,"label",26),m.Sb(63,"input",27),m.Zb("ngModelChange",function(e){return n.f_logo=e})("fileDataChange",function(e){return n.model.entity.logoFile=e}),m.Rb(),m.Nb(64,"i",28),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(65,"div",5),m.Sb(66,"div",29),m.Sb(67,"div",30,31),m.Sb(69,"label",32),m.Gc(70),m.ec(71,"translate"),m.Rb(),m.Sb(72,"div"),m.Sb(73,"div",33),m.Sb(74,"label",23),m.Gc(75),m.Rb(),m.Ec(76,ge,3,0,"div",34),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(77,"div",5),m.Sb(78,"div",35),m.Gc(79),m.ec(80,"translate"),m.Rb(),m.Rb(),m.Sb(81,"div",5),m.Sb(82,"div",36,37),m.Sb(84,"label"),m.Gc(85),m.ec(86,"translate"),m.Rb(),m.Sb(87,"select",38),m.Zb("ngModelChange",function(e){return n.model.environment=e})("change",function(){return n.env_change()}),m.Sb(88,"option",39),m.Gc(89),m.ec(90,"translate"),m.Rb(),m.Ec(91,pe,2,2,"option",40),m.Rb(),m.Ec(92,Se,2,1,"p",10),m.Rb(),m.Rb(),m.Rb(),m.Sb(93,"div",41),m.Nb(94,"app-generation-inof-list",42,43),m.Rb(),m.Sb(96,"div",44),m.Sb(97,"div",45),m.Sb(98,"div",46),m.Sb(99,"button",47),m.Zb("click",function(){return n.Submit()}),m.Gc(100),m.ec(101,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&e){const e=m.tc(6),t=m.tc(9),c=m.tc(21),i=m.tc(34),o=m.tc(44),a=m.tc(68),r=m.tc(83);m.jc("ngIf",!n.IsEmbedded),m.Ab(1),m.jc("ngIf",n.IsEmbedded&&!n.HideHeader),m.Ab(1),m.jc("ngClass",n.IsEmbedded?"panel panel-default embedded":"container-fluid animated fadeInRight"),m.Ab(1),m.jc("ngClass",n.IsEmbedded?"panel-body":"content-block"),m.Ab(1),m.jc("ngIf",n.UseLocalization),m.Ab(7),m.Ic("",m.fc(12,54,"Columns.Tenant__Code")," "),m.Ab(4),m.kc("placeholder",m.fc(16,56,"Columns.Tenant__Code")),m.kc("title",m.fc(17,58,"Columns.Tenant__Code")),m.jc("ngModel",n.model.entity.code)("li-watch",n.model)("data-service",n.Service)("item-id",n.model.id),m.Ab(3),m.jc("ngIf",!t.Write),m.Ab(1),m.jc("ngIf",e.controls.Form__entity_code&&e.controls.Form__entity_code.invalid),m.Ab(4),m.Ic("",m.fc(24,60,"Columns.Tenant__Name")," "),m.Ab(4),m.kc("placeholder",m.fc(28,62,"Columns.Tenant__Name")),m.kc("title",m.fc(29,64,"Columns.Tenant__Name")),m.jc("ngModel",n.model.entity.name)("li-watch",n.model),m.Ab(3),m.jc("ngIf",!c.Write),m.Ab(1),m.jc("ngIf",e.controls.Form__entity_name&&e.controls.Form__entity_name.invalid),m.Ab(5),m.Ic("",m.fc(37,66,"Columns.Tenant__DbName")," "),m.Ab(2),m.kc("placeholder",m.fc(39,68,"Columns.Tenant__DbName")),m.kc("title",m.fc(40,70,"Columns.Tenant__DbName")),m.jc("ngModel",n.model.dbName)("li-watch",n.model)("pattern","[_a-zA-Z][_a-zA-Z0-9]{2,30}"),m.Ab(3),m.jc("ngIf",!i.Write),m.Ab(1),m.jc("ngIf",e.controls.Form__dbName&&e.controls.Form__dbName.invalid),m.Ab(4),m.Ic("",m.fc(47,72,"Columns.Tenant__ConnectionString")," "),m.Ab(2),m.kc("placeholder",m.fc(49,74,"Columns.Tenant__ConnectionString")),m.kc("title",m.fc(50,76,"Columns.Tenant__ConnectionString")),m.jc("ngModel",n.model.entity.connectionString)("li-watch",n.model),m.Ab(3),m.jc("ngIf",!o.Write),m.Ab(5),m.Ic("",m.fc(57,78,"Columns.Tenant__LogoFile")," "),m.Ab(4),m.jc("ngIf",n.model.entity.logoFile),m.Ab(3),m.jc("ngModel",n.f_logo)("file-uploader",n.upload)("fileData",n.model.entity.logoFile),m.Ab(7),m.Hc(m.fc(71,80,"Words.MainComponentBase")),m.Ab(5),m.Ic("\n",n.model.entity.mainComponentBase," "),m.Ab(1),m.jc("ngIf",a&&a.Write),m.Ab(3),m.Hc(m.fc(80,82,"Words.Publishing")),m.Ab(6),m.Ic("",m.fc(86,84,"Columns.Tenant__Environment")," "),m.Ab(2),m.jc("li-watch",n.model)("ngModel",n.model.environment),m.Ab(1),m.jc("ngValue",null),m.Ab(1),m.Ic("--(",m.fc(90,86,"Words.Empty"),")--"),m.Ab(2),m.jc("ngForOf",n.environments),m.Ab(1),m.jc("ngIf",!r.Write),m.Ab(2),m.jc("IsEmbedded",!0),m.Ab(5),m.jc("disabled",!n.CanSubmit),m.Ab(1),m.Ic(" ",m.fc(101,88,"Words.Save")," ")}},directives:[p.k,p.i,R.u,R.j,R.k,U.a,R.c,R.q,B,R.i,R.l,v.a,R.n,$.a,R.r,R.m,R.t,p.j,J.a,c.d],pipes:[_.c],encapsulation:2}),e})();const Re=m.Ub(he),ve=["Form"];function _e(e,n){if(1&e&&(m.Sb(0,"span"),m.Gc(1),m.Rb()),2&e){const e=m.dc(2);m.Ab(1),m.Ic(" - ",e.HeaderExtra,"")}}function Ae(e,n){1&e&&(m.Sb(0,"div",5),m.Sb(1,"ol",72),m.Sb(2,"li"),m.Sb(3,"a",73),m.Gc(4),m.ec(5,"translate"),m.Rb(),m.Rb(),m.Sb(6,"li"),m.Sb(7,"a",74),m.Gc(8),m.ec(9,"translate"),m.Rb(),m.Rb(),m.Sb(10,"li"),m.Gc(11),m.ec(12,"translate"),m.Rb(),m.Rb(),m.Rb()),2&e&&(m.Ab(4),m.Hc(m.fc(5,3,"Words.Main")),m.Ab(4),m.Hc(m.fc(9,5,"Pages.Tenants__TenantList")),m.Ab(3),m.Ic(" ",m.fc(12,7,"Pages.Tenants__TenantDetails")," "))}function Ce(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",65),m.Sb(1,"div",5),m.Sb(2,"div",66),m.Sb(3,"h2"),m.Gc(4),m.ec(5,"translate"),m.Ec(6,_e,2,1,"span",10),m.Rb(),m.Rb(),m.Sb(7,"div",67),m.Sb(8,"div",5),m.Sb(9,"div",68),m.Sb(10,"div",69),m.Sb(11,"button",70),m.Zb("click",function(){return m.vc(e),m.dc().Refresh()}),m.Nb(12,"i",71),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Ec(13,Ae,13,9,"div",3),m.Rb()}if(2&e){const e=m.dc();m.Ab(4),m.Hc(m.fc(5,3,"Pages.Tenants__TenantDetails")),m.Ab(2),m.jc("ngIf",e.HeaderExtra),m.Ab(7),m.jc("ngIf",!e.IsEmbedded)}}function Ie(e,n){if(1&e&&(m.Sb(0,"span"),m.Gc(1),m.Rb()),2&e){const e=m.dc(2);m.Ab(1),m.Ic(" - ",e.HeaderExtra,"")}}function Ge(e,n){if(1&e&&(m.Sb(0,"div",75),m.Sb(1,"div",76),m.Sb(2,"div",5),m.Sb(3,"div",77),m.Gc(4),m.ec(5,"translate"),m.Ec(6,Ie,2,1,"span",10),m.Rb(),m.Nb(7,"div",78),m.Rb(),m.Rb(),m.Rb()),2&e){const e=m.dc();m.Ab(4),m.Ic(" ",m.fc(5,2,"Pages.Tenants__TenantDetails"),""),m.Ab(2),m.jc("ngIf",e.HeaderExtra)}}function ye(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",5),m.Sb(1,"div",79),m.Sb(2,"div",80),m.Sb(3,"button",81),m.Zb("click",function(){return m.vc(e),m.dc().CurrentLang="ar"}),m.Gc(4),m.ec(5,"translate"),m.Rb(),m.Sb(6,"button",81),m.Zb("click",function(){return m.vc(e),m.dc().CurrentLang="en"}),m.Gc(7),m.ec(8,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb()}if(2&e){const e=m.dc();m.Ab(3),m.jc("ngClass","ar"==e.CurrentLang?"btn-primary":"btn-default"),m.Ab(1),m.Ic(" ",m.fc(5,4,"Words.ar")," "),m.Ab(2),m.jc("ngClass","en"==e.CurrentLang?"btn-primary":"btn-default"),m.Ab(1),m.Ic(" ",m.fc(8,6,"Words.en")," ")}}function je(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(9);m.Ab(1),m.Hc(e.Value)}}const Te=function(e){return{p0:e}};function Fe(e,n){1&e&&(m.Sb(0,"small",83),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.field_required",m.nc(6,Te,m.fc(3,4,"Columns.Tenant__Code")))))}function ke(e,n){1&e&&(m.Sb(0,"small",83),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.field_exists",m.nc(6,Te,m.fc(3,4,"Columns.Tenant__Code")))))}function Ee(e,n){if(1&e&&(m.Sb(0,"span"),m.Ec(1,Fe,4,8,"small",82),m.Ec(2,ke,4,8,"small",82),m.Rb()),2&e){m.dc();const e=m.tc(6);m.Ab(1),m.jc("ngIf",e.controls.Form__entity_code.errors.required),m.Ab(1),m.jc("ngIf",e.controls.Form__entity_code.errors.unique)}}function Me(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(21);m.Ab(1),m.Hc(e.Value)}}function we(e,n){1&e&&(m.Sb(0,"small",83),m.Gc(1),m.ec(2,"translate"),m.ec(3,"translate"),m.Rb()),2&e&&(m.Ab(1),m.Hc(m.gc(2,1,"Messages.field_required",m.nc(6,Te,m.fc(3,4,"Columns.Tenant__Name")))))}function Le(e,n){if(1&e&&(m.Sb(0,"span"),m.Ec(1,we,4,8,"small",82),m.Rb()),2&e){m.dc();const e=m.tc(6);m.Ab(1),m.jc("ngIf",e.controls.Form__entity_name.errors.required)}}function Ne(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(34);m.Ab(1),m.Hc(e.Value)}}function xe(e,n){if(1&e&&(m.Sb(0,"a",84),m.Gc(1),m.Rb()),2&e){const e=m.dc();m.jc("routerLink","/"+e.model.entity.logoFile.url),m.Ab(1),m.Ic(" ",e.model.entity.logoFile.name," ")}}function He(e,n){if(1&e){const e=m.Tb();m.Sb(0,"div",22),m.Sb(1,"button",85),m.Zb("click",function(){return m.vc(e),m.dc().SelectTemplate()}),m.Nb(2,"i",86),m.Rb(),m.Rb()}}function Pe(e,n){if(1&e&&(m.Sb(0,"option",46),m.Gc(1),m.Rb()),2&e){const e=n.$implicit;m.jc("ngValue",e.name),m.Ab(1),m.Hc(e.name)}}function Oe(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(92);m.Ab(1),m.Hc(e.Value)}}function Ze(e,n){if(1&e&&(m.Sb(0,"option",46),m.Gc(1),m.Rb()),2&e){const e=n.$implicit;m.jc("ngValue",e.name),m.Ab(1),m.Hc(e.name)}}function We(e,n){if(1&e&&(m.Sb(0,"p"),m.Gc(1),m.Rb()),2&e){m.dc();const e=m.tc(103);m.Ab(1),m.Hc(e.Value)}}let qe=(()=>{class e extends D{constructor(){super(...arguments),this.ViewParams={AddUrl:null,EditUrl:null,DetailsUrl:null,ListUrl:"/generations/tenants/tenant-list",Fields:[],Other:{OutputListener:"Generations/GenerationInofList",SelectTemplateModel:"Generations/PageCategorySelect"}},this.LookupOptions=null}get CollectionId(){return null}}return e.\u0275fac=function(n){return Ve(n||e)},e.\u0275cmp=m.Gb({type:e,selectors:[["app-tenant-details"]],viewQuery:function(e,n){if(1&e&&m.Kc(ve,!0),2&e){let e;m.sc(e=m.ac())&&(n.Form=e.first)}},features:[m.xb],decls:143,vars:110,consts:[["class","page-header container-fluid",4,"ngIfHideHeader","ngIf"],["class","page-header section-header",4,"ngIf"],[3,"ngClass"],["class","row",4,"ngIf"],["Form","ngForm"],[1,"row"],["id","FG_entity_code","bs-group","",1,"form-group","col-md-6"],["FG_entity_code","bsFormGroup"],[2,"color","red"],["type","text","name","Form__entity_code","required","","is-unique","","column-id","Code",1,"form-control",3,"placeholder","ngModel","title","li-watch","data-service","item-id","ngModelChange"],[4,"ngIf"],["id","FG_entity_name","bs-group","",1,"form-group","col-md-6"],["FG_entity_name","bsFormGroup"],["type","text","name","Form__entity_name","required","",1,"form-control",3,"placeholder","ngModel","title","li-watch","ngModelChange"],["id","FG_entity_connectionString","bs-group","",1,"form-group","col-md-6"],["FG_entity_connectionString","bsFormGroup"],["type","text","name","Form__entity_connectionString",1,"form-control",3,"placeholder","ngModel","title","li-watch","ngModelChange"],["id","FG_entity_logoFile","bs-group","",1,"form-group","col-md-6"],["FG_entity_logoFile","bsFormGroup"],[1,"input-group"],[1,"form-control"],["class","file-link","target","_blank",3,"routerLink",4,"ngIf"],[1,"input-group-btn"],[1,"btn","btn-primary"],["name","f_logo","type","file",2,"display","none",3,"ngModel","file-uploader","fileData","ngModelChange","fileDataChange"],[1,"fa","fa-upload"],[1,"col-md-6"],["id","MainComponentBase","bs-group","",1,"form-group"],["MainComponentBase","bsFormGroup"],[1,"control-label"],[1,"input-group","modal-selector"],["class","input-group-btn",4,"ngIf"],[1,"form-group","col-md-6"],[1,""],[1,"col-md-12","section-header"],["id","update_buttons",1,"from-group"],["update_buttons",""],[1,"col-md-3"],[1,"input-group","btn-group"],[1,"btn","btn-info",3,"click"],[1,"fa","fa-sync"],[1,"btn","btn-default",3,"click"],[1,"fa","fa-image"],["id","FG_environment","bs-group","",1,"form-group","col-md-2"],["FG_environment","bsFormGroup"],["name","Form__environment",1,"form-control",3,"li-watch","ngModel","ngModelChange","change"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["id","FG_dbName","bs-group","",1,"form-group","col-md-3"],["FG_dbName","bsFormGroup"],["name","Form__dbName",1,"form-control",3,"li-watch","ngModel","ngModelChange"],["id","FG_force","bs-group","",1,"form-group","col-md-1"],["FG_force","bsFormGroup"],[1,"check-label"],[1,"fa","fa-lg",3,"ngClass"],["name","__force","type","checkbox","title","Force",2,"display","none",3,"ngModel","ngModelChange"],[1,"btn","btn-primary",3,"disabled","click"],[1,"fa","fa-download"],[1,"btn","btn-success",3,"disabled","click"],[1,"row",2,"height","400px"],[3,"IsEmbedded"],["OutputListener",""],[1,"row","submit-buttons"],[1,"col-md-12"],[1,"pull-last"],[1,"page-header","container-fluid"],[1,"col-sm-5","col-xs-12"],[1,"col-sm-7","col-xs-12"],[1,"col-md-12","col-xs-12","padTop","padBottom"],[1,"pull-last","btn-group"],[1,"btn","btn-info","margin-sides",3,"click"],[1,"fa","fa-redo"],[1,"breadcrumb"],["routerLink","/"],["routerLink","/generations/tenants/tenant-list"],[1,"page-header","section-header"],[1,"container-fluid"],[1,"col-md-8"],[1,"col-md-4"],[1,"col-xs-12","col-md-6","col-xs-offset-0","col-md-offset-6","padBottom"],[1,"btn-group","btn-group-sm","pull-last"],[1,"btn","btn-sm",3,"ngClass","click"],["class","form-text text-danger",4,"ngIf"],[1,"form-text","text-danger"],["target","_blank",1,"file-link",3,"routerLink"],[1,"btn",3,"click"],[1,"fa","fa-window-restore"]],template:function(e,n){if(1&e&&(m.Ec(0,Ce,14,5,"div",0),m.Ec(1,Ge,8,4,"div",1),m.Sb(2,"div",2),m.Sb(3,"div",2),m.Ec(4,ye,9,8,"div",3),m.Sb(5,"form",null,4),m.Sb(7,"div",5),m.Sb(8,"div",6,7),m.Sb(10,"label"),m.Gc(11),m.ec(12,"translate"),m.Sb(13,"span",8),m.Gc(14,"*"),m.Rb(),m.Rb(),m.Sb(15,"input",9),m.Zb("ngModelChange",function(e){return n.model.entity.code=e}),m.ec(16,"translate"),m.ec(17,"translate"),m.Rb(),m.Ec(18,je,2,1,"p",10),m.Ec(19,Ee,3,2,"span",10),m.Rb(),m.Sb(20,"div",11,12),m.Sb(22,"label"),m.Gc(23),m.ec(24,"translate"),m.Sb(25,"span",8),m.Gc(26,"*"),m.Rb(),m.Rb(),m.Sb(27,"input",13),m.Zb("ngModelChange",function(e){return n.model.entity.name=e}),m.ec(28,"translate"),m.ec(29,"translate"),m.Rb(),m.Ec(30,Me,2,1,"p",10),m.Ec(31,Le,2,1,"span",10),m.Rb(),m.Rb(),m.Sb(32,"div",5),m.Sb(33,"div",14,15),m.Sb(35,"label"),m.Gc(36),m.ec(37,"translate"),m.Rb(),m.Sb(38,"input",16),m.Zb("ngModelChange",function(e){return n.model.entity.connectionString=e}),m.ec(39,"translate"),m.ec(40,"translate"),m.Rb(),m.Ec(41,Ne,2,1,"p",10),m.Rb(),m.Rb(),m.Sb(42,"div",5),m.Sb(43,"div",17,18),m.Sb(45,"label"),m.Gc(46),m.ec(47,"translate"),m.Rb(),m.Sb(48,"div",19),m.Sb(49,"label",20),m.Ec(50,xe,2,2,"a",21),m.Rb(),m.Sb(51,"div",22),m.Sb(52,"label",23),m.Sb(53,"input",24),m.Zb("ngModelChange",function(e){return n.f_logo=e})("fileDataChange",function(e){return n.model.entity.logoFile=e}),m.Rb(),m.Nb(54,"i",25),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(55,"div",5),m.Sb(56,"div",26),m.Sb(57,"div",27,28),m.Sb(59,"label",29),m.Gc(60),m.ec(61,"translate"),m.Rb(),m.Sb(62,"div"),m.Sb(63,"div",30),m.Sb(64,"label",20),m.Gc(65),m.Rb(),m.Ec(66,He,3,0,"div",31),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(67,"div",32),m.Sb(68,"label"),m.Gc(69),m.ec(70,"translate"),m.Rb(),m.Sb(71,"p",33),m.Gc(72),m.Rb(),m.Rb(),m.Rb(),m.Sb(73,"div",5),m.Sb(74,"div",34),m.Gc(75),m.ec(76,"translate"),m.Rb(),m.Rb(),m.Sb(77,"div",5),m.Sb(78,"div",35,36),m.Sb(80,"div",37),m.Nb(81,"br"),m.Sb(82,"div",38),m.Sb(83,"button",39),m.Zb("click",function(){return n.SyncTenant()}),m.Nb(84,"i",40),m.Gc(85),m.ec(86,"translate"),m.Rb(),m.Sb(87,"button",41),m.Zb("click",function(){return n.Render()}),m.Nb(88,"i",42),m.Gc(89),m.ec(90,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(91,"div",43,44),m.Sb(93,"label"),m.Gc(94),m.ec(95,"translate"),m.Rb(),m.Sb(96,"select",45),m.Zb("ngModelChange",function(e){return n.model.environment=e})("change",function(){return n.env_change()}),m.Sb(97,"option",46),m.Gc(98),m.ec(99,"translate"),m.Rb(),m.Ec(100,Pe,2,2,"option",47),m.Rb(),m.Ec(101,Oe,2,1,"p",10),m.Rb(),m.Sb(102,"div",48,49),m.Sb(104,"label"),m.Gc(105),m.ec(106,"translate"),m.Rb(),m.Sb(107,"select",50),m.Zb("ngModelChange",function(e){return n.model.dbName=e}),m.Sb(108,"option",46),m.Gc(109),m.ec(110,"translate"),m.Rb(),m.Ec(111,Ze,2,2,"option",47),m.Rb(),m.Ec(112,We,2,1,"p",10),m.Rb(),m.Sb(113,"div",51,52),m.Sb(115,"label"),m.Gc(116),m.ec(117,"translate"),m.Rb(),m.Sb(118,"label",53),m.Nb(119,"i",54),m.Sb(120,"input",55),m.Zb("ngModelChange",function(e){return n.model.force=e}),m.Rb(),m.Rb(),m.Rb(),m.Sb(121,"div",35,36),m.Sb(123,"div",37),m.Nb(124,"br"),m.Sb(125,"div",38),m.Sb(126,"button",56),m.Zb("click",function(){return n.UpdateDatabase()}),m.Nb(127,"i",57),m.Gc(128),m.ec(129,"translate"),m.Rb(),m.Sb(130,"button",58),m.Zb("click",function(){return n.Publish()}),m.Nb(131,"i",25),m.Gc(132),m.ec(133,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Sb(134,"div",59),m.Nb(135,"app-generation-inof-list",60,61),m.Rb(),m.Sb(137,"div",62),m.Sb(138,"div",63),m.Sb(139,"div",64),m.Sb(140,"button",56),m.Zb("click",function(){return n.Submit()}),m.Gc(141),m.ec(142,"translate"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&e){const e=m.tc(6),t=m.tc(9),c=m.tc(21),i=m.tc(34),o=m.tc(58),a=m.tc(92),r=m.tc(103);m.jc("ngIf",!n.IsEmbedded),m.Ab(1),m.jc("ngIf",n.IsEmbedded&&!n.HideHeader),m.Ab(1),m.jc("ngClass",n.IsEmbedded?"panel panel-default embedded":"container-fluid animated fadeInRight"),m.Ab(1),m.jc("ngClass",n.IsEmbedded?"panel-body":"content-block"),m.Ab(1),m.jc("ngIf",n.UseLocalization),m.Ab(7),m.Ic("",m.fc(12,64,"Columns.Tenant__Code")," "),m.Ab(4),m.kc("placeholder",m.fc(16,66,"Columns.Tenant__Code")),m.kc("title",m.fc(17,68,"Columns.Tenant__Code")),m.jc("ngModel",n.model.entity.code)("li-watch",n.model)("data-service",n.Service)("item-id",n.model.id),m.Ab(3),m.jc("ngIf",!t.Write),m.Ab(1),m.jc("ngIf",e.controls.Form__entity_code&&e.controls.Form__entity_code.invalid),m.Ab(4),m.Ic("",m.fc(24,70,"Columns.Tenant__Name")," "),m.Ab(4),m.kc("placeholder",m.fc(28,72,"Columns.Tenant__Name")),m.kc("title",m.fc(29,74,"Columns.Tenant__Name")),m.jc("ngModel",n.model.entity.name)("li-watch",n.model),m.Ab(3),m.jc("ngIf",!c.Write),m.Ab(1),m.jc("ngIf",e.controls.Form__entity_name&&e.controls.Form__entity_name.invalid),m.Ab(5),m.Ic("",m.fc(37,76,"Columns.Tenant__ConnectionString")," "),m.Ab(2),m.kc("placeholder",m.fc(39,78,"Columns.Tenant__ConnectionString")),m.kc("title",m.fc(40,80,"Columns.Tenant__ConnectionString")),m.jc("ngModel",n.model.entity.connectionString)("li-watch",n.model),m.Ab(3),m.jc("ngIf",!i.Write),m.Ab(5),m.Ic("",m.fc(47,82,"Columns.Tenant__LogoFile")," "),m.Ab(4),m.jc("ngIf",n.model.entity.logoFile),m.Ab(3),m.jc("ngModel",n.f_logo)("file-uploader",n.upload)("fileData",n.model.entity.logoFile),m.Ab(7),m.Hc(m.fc(61,84,"Words.MainComponentBase")),m.Ab(5),m.Ic("\n",n.model.entity.mainComponentBase," "),m.Ab(1),m.jc("ngIf",o&&o.Write),m.Ab(3),m.Hc(m.fc(70,86,"Columns.Tenant__Version")),m.Ab(3),m.Ic(" ",n.model.entity.version," "),m.Ab(3),m.Hc(m.fc(76,88,"Words.Publishing")),m.Ab(10),m.Ic(" ",m.fc(86,90,"Words.UpdateConfigurations")," "),m.Ab(4),m.Ic(" ",m.fc(90,92,"Words.Render")," "),m.Ab(5),m.Ic("",m.fc(95,94,"Columns.Tenant__Environment")," "),m.Ab(2),m.jc("li-watch",n.model)("ngModel",n.model.environment),m.Ab(1),m.jc("ngValue",null),m.Ab(1),m.Ic("--(",m.fc(99,96,"Words.Empty"),")--"),m.Ab(2),m.jc("ngForOf",n.environments),m.Ab(1),m.jc("ngIf",!a.Write),m.Ab(4),m.Ic("",m.fc(106,98,"Columns.Tenant__DbName")," "),m.Ab(2),m.jc("li-watch",n.model)("ngModel",n.model.dbName),m.Ab(1),m.jc("ngValue",null),m.Ab(1),m.Ic("--(",m.fc(110,100,"Words.Empty"),")--"),m.Ab(2),m.jc("ngForOf",n.databases),m.Ab(1),m.jc("ngIf",!r.Write),m.Ab(4),m.Ic("",m.fc(117,102,"Columns.Tenant__Force")," "),m.Ab(3),m.jc("ngClass",n.model.force?"fa-toggle-on greenColor":"fa-toggle-off grayColor"),m.Ab(1),m.jc("ngModel",n.model.force),m.Ab(6),m.jc("disabled",!n.model.dbName),m.Ab(2),m.Ic(" ",m.fc(129,104,"Words.UpdateDatabase")," "),m.Ab(2),m.jc("disabled",!n.model.environment),m.Ab(2),m.Ic(" ",m.fc(133,106,"Words.Publish")," "),m.Ab(3),m.jc("IsEmbedded",!0),m.Ab(5),m.jc("disabled",!n.CanSubmit),m.Ab(1),m.Ic(" ",m.fc(142,108,"Words.Save")," ")}},directives:[p.k,p.i,R.u,R.j,R.k,U.a,R.c,R.q,B,R.i,R.l,v.a,$.a,R.r,R.m,R.t,p.j,R.a,J.a,c.d],pipes:[_.c],encapsulation:2}),e})();const Ve=m.Ub(qe);let De=(()=>{class e{constructor(e){e.use(r.a.Current.Language),e.setDefaultLang(r.a.Current.Language)}}return e.\u0275mod=m.Kb({type:e}),e.\u0275inj=m.Jb({factory:function(n){return new(n||e)(m.Wb(_.d))},imports:[[a.SharedModule,b.GenerationsModule,c.e.forChild([{path:"tenant-list",component:H,canActivate:[o.a],data:{name:"Tenants__TenantList",navigate:!1,resource:"",action:"anonymous",apps:null}},{path:"tenant-create",component:he,canActivate:[o.a],data:{name:"Tenants__TenantCreate",navigate:!1,resource:"",action:"allowAll",apps:null}},{path:"tenant-details/:id",component:qe,canActivate:[o.a],data:{name:"Tenants__TenantDetails",navigate:!1,resource:"",action:"allowAll",apps:null}}])]]}),e})();i.b.Register("Generations/Tenants/TenantList",H),i.b.Register("Generations/Tenants/TenantCreate",he),i.b.Register("Generations/Tenants/TenantDetails",qe)}}]);