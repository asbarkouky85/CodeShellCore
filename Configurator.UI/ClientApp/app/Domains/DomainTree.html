
<div class="page-header" [ngClass]="IsEmbedded?'section-header':'container-fluid'" *ngIf="!HideHeader">
    <div class="row">
        <div class="col-sm-5 col-xs-12" *ngIf="!IsEmbedded">
            <h2>{{'Pages.Domains__DomainTree' | translate }}<span *ngIf="HeaderExtra"> - {{HeaderExtra}}</span></h2>
        </div>

        <div class="col-sm-7 col-xs-12" *ngIf="!IsEmbedded">
            <div class="row">

                <div class="col-md-12 col-xs-12 padTop padBottom">
                    <div class="pull-last btn-group">

                        
                        
    <button class="btn btn-info margin-sides"
            (click)="Refresh()"
            
            >
        <i class="fa fa-redo"></i> 
    </button>

                    </div>
                </div>
            </div>
        </div>

        <div *ngIf="IsEmbedded" class="container-fluid">
            <div class="row">
                <div class="col-md-8">
                    {{'Pages.Domains__DomainTree' | translate }}<span *ngIf="HeaderExtra"> - {{HeaderExtra}}</span>
                </div>
                <div class="col-md-4">
                </div>
            </div>
        </div>
    </div>
    <div class="row" *ngIf="!IsEmbedded">

        <ol class="breadcrumb">
            <li>
                <a routerLink="'/'">{{'Words.Main' | translate }}</a>
            </li>
            <li>
                {{'Pages.Domains__DomainTree' | translate }}
            </li>
        </ol>
    </div>
</div>
<div  class="col-md-12" [ngClass]="HideHeader?null:'padTop'" id="Tree" #Tree>
    <div class="row">
        <div class="panel panel-default">

            <div class="panel-body" style="min-height:400px;max-height:400px;overflow-y:scroll;">
                
<tree-root [nodes]="List"
           [options]="treeOptions"
           (toggleExpanded)="onExpanded($event)"
           (moveNode)="onMoveNode($event)">

    <ng-template #treeNodeTemplate let-node let-index="index">
        <div class="tree-item-container">
            <div style="display:inline-block">
                {{ node.data.name }}
                <span class="label label-info" *ngIf="node.data.contentCount">{{node.data.contentCount}}</span>

            </div>

                <div class="btn-group pull-last" role="group" [show-if]="selectedId==node.data.id" *ngIf="AllowEdit">

                    <button (click)="AddNode(node)" class="btn btn-default btn-sm" title="{{'Words.AddChild' | translate }}">
                        <i class="fa fa-plus" aria-hidden="true"></i>
                    </button>

                    <button (click)="EditNode(node)" class="btn btn-default btn-sm" title="{{'Words.Update' | translate }}">
                        <i class="fa fa-edit" aria-hidden="true"></i>
                    </button>

                    <button (click)="DeleteNode(node)" class="btn btn-default btn-sm" title="{{'Words.Delete' | translate }}">
                        <i class="fa fa-minus" aria-hidden="true"></i>
                    </button>
                </div>

            <div class="btn-group pull-last" *ngIf="isGeneration">
                
    <button class="btn btn-primary btn-sm"
            (click)="render(node.data)"
            
             title="{{'Words.Render' | translate }}">
        <i class="fa fa-image"></i> 
    </button>

                
    <button class="btn btn-warning btn-sm"
            (click)="process(node.data)"
            
             title="{{'Words.Process' | translate }}">
        <i class="fa fa-cog"></i> 
    </button>

            </div>

        </div>


    </ng-template>

</tree-root>

            </div>
        </div>
    </div>
</div>

<div style='display:none' #lookupOptionsContainer values=''></div>
<div style='display:none' #viewParamsContainer values='{"ModelType":null,"AddUrl":null,"EditUrl":null,"DetailsUrl":null,"ListUrl":null,"Fields":[],"Other":{}}'></div>